[{"/home/kumar/code/student-helper-bot/src/components/Roadmaps/RoadmapData.js":"1","/home/kumar/code/student-helper-bot/src/index.js":"2","/home/kumar/code/student-helper-bot/src/courseFinder/CourseFinder.jsx":"3","/home/kumar/code/student-helper-bot/src/components/HomePage.jsx":"4","/home/kumar/code/student-helper-bot/src/components/Roadmaps/WebDevelopment.jsx":"5","/home/kumar/code/student-helper-bot/src/components/MessagingComponent.js":"6","/home/kumar/code/student-helper-bot/src/components/Addpost.js":"7","/home/kumar/code/student-helper-bot/src/App.js":"8","/home/kumar/code/student-helper-bot/src/components/Nav.js":"9","/home/kumar/code/student-helper-bot/src/courseFinder/dropdown.js":"10"},{"size":2726,"mtime":1632049463063,"results":"11","hashOfConfig":"12"},{"size":265,"mtime":1631987686255,"results":"13","hashOfConfig":"12"},{"size":5053,"mtime":1631975201231,"results":"14","hashOfConfig":"12"},{"size":3949,"mtime":1632050144130,"results":"15","hashOfConfig":"12"},{"size":1768,"mtime":1632048480550,"results":"16","hashOfConfig":"12"},{"size":3241,"mtime":1632049654699,"results":"17","hashOfConfig":"12"},{"size":1350,"mtime":1632049724612,"results":"18","hashOfConfig":"12"},{"size":3722,"mtime":1632050139654,"results":"19","hashOfConfig":"12"},{"size":751,"mtime":1632049203522,"results":"20","hashOfConfig":"12"},{"size":1510,"mtime":1631975201231,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19a410u",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/kumar/code/student-helper-bot/src/components/Roadmaps/RoadmapData.js",[],"/home/kumar/code/student-helper-bot/src/index.js",[],"/home/kumar/code/student-helper-bot/src/courseFinder/CourseFinder.jsx",["43"],"/home/kumar/code/student-helper-bot/src/components/HomePage.jsx",[],"/home/kumar/code/student-helper-bot/src/components/Roadmaps/WebDevelopment.jsx",[],"/home/kumar/code/student-helper-bot/src/components/MessagingComponent.js",["44","45","46","47","48","49"],"import React, { useEffect, useRef, useState } from \"react\";\n\nimport { db, storage } from \"../firebase\";\nimport firebase from \"firebase\";\nimport Addpost from \"./Addpost\";\nimport { Link } from \"react-router-dom\";\n\nexport default function StudentMessaging({ nameOfExperiment }) {\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [profileImage, setProfileImage] = useState(null);\n\n  const [profileImageUrl, setProfileImageUrl] = useState(\"\");\n  const [profileImageString, setProfileImageString] = useState(\"\");\n  const [profileImageUploadProgress, setProfileImageUploadProgress] = useState(\n    0\n  );\n  const messageEndRef = useRef(null);\n\n  useEffect(() => {\n    setProfileImageString(\"qwertyuioiuytrewertyuytre\");\n  }, []);\n\n  useEffect(() => {\n    db.collection(\"messages\")\n      .orderBy(\"timeOfMessage\", \"asc\")\n      .onSnapshot((snapshot) => {\n        setMessages(\n          snapshot.docs.map((doc) => ({ id: doc.id, message: doc.data() }))\n        );\n      });\n  }, []);\n  const handleProfileUpload = (e) => {\n    if (e.target.files[0]) {\n      setProfileImage(e.target.files[0]);\n    }\n  };\n\n  const profileImageUpload = (e) => {\n    e.preventDefault();\n\n    const uploadProfileImageTask = storage\n      .ref(`profile-images/${profileImageString}`)\n      .put(profileImage);\n\n    uploadProfileImageTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProfileImageUploadProgress(progress);\n      },\n      (error) => {\n        // Error function ...\n        console.log(error);\n        alert(error.message);\n      },\n      () => {\n        // complete function ...\n        storage\n          .ref(\"profile-images\")\n          .child(profileImageString)\n          .getDownloadURL()\n          .then((url) => {\n            setProfileImageUrl(url);\n          });\n      }\n    );\n  };\n  console.log(profileImageUrl);\n  const sendMessage = () => {\n    db.collection(\"messages\").add({\n      nameOfStudent: \"Anish\",\n      message: inputMessage,\n      isStudent: true,\n      timeOfMessage: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setInputMessage(\"\");\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  console.log(messages);\n  const scrollToBottom = () => {\n    messageEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  return (\n    <div className=\"w-full \">\n      <Link to=\"/addpost\"> <button className=\"float-left\"><h1 className=\"float-left\">Post Something</h1></button></Link>\n      <div className=\" flex flex-col \">\n        {messages.map((message) => {\n          console.log(message);\n          //move to right for student\n          return (\n            <div className={` my-2 flex flex-col    pt-[10px]`}>\n              <h3 className=\"dark:text-white text-black\">\n                {message.message.message}\n              </h3>\n              {profileImageUrl === \"\" ? (\n                \"\"\n              ) : (\n                <img className=\"max-w-[300px]\" src={profileImageUrl} />\n              )}\n            </div>\n          );\n        })}\n        <div ref={messageEndRef} />\n      </div>\n    </div>\n  );\n}\n","/home/kumar/code/student-helper-bot/src/components/Addpost.js",[],"/home/kumar/code/student-helper-bot/src/App.js",[],"/home/kumar/code/student-helper-bot/src/components/Nav.js",[],"/home/kumar/code/student-helper-bot/src/courseFinder/dropdown.js",[],{"ruleId":"50","severity":1,"message":"51","line":208,"column":7,"nodeType":"52","endLine":208,"endColumn":43},{"ruleId":"53","severity":1,"message":"54","line":5,"column":8,"nodeType":"55","messageId":"56","endLine":5,"endColumn":15},{"ruleId":"53","severity":1,"message":"57","line":15,"column":10,"nodeType":"55","messageId":"56","endLine":15,"endColumn":36},{"ruleId":"53","severity":1,"message":"58","line":33,"column":9,"nodeType":"55","messageId":"56","endLine":33,"endColumn":28},{"ruleId":"53","severity":1,"message":"59","line":39,"column":9,"nodeType":"55","messageId":"56","endLine":39,"endColumn":27},{"ruleId":"53","severity":1,"message":"60","line":72,"column":9,"nodeType":"55","messageId":"56","endLine":72,"endColumn":20},{"ruleId":"61","severity":1,"message":"62","line":105,"column":17,"nodeType":"52","endLine":105,"endColumn":72},"jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement","no-unused-vars","'Addpost' is defined but never used.","Identifier","unusedVar","'profileImageUploadProgress' is assigned a value but never used.","'handleProfileUpload' is assigned a value but never used.","'profileImageUpload' is assigned a value but never used.","'sendMessage' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images."]